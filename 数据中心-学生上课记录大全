

SELECT 
ls.student_id 学生ID
,l.id 课节ID
, u.`name` 学生姓名
,au.nickname 上课老师
, date(FROM_UNIXTIME(l.start_time)) 上课日期
,right(FROM_UNIXTIME(l.start_time),8) 上课时间 
,c.chapter_name 课件名称
,(case l.course_type when 1 then '普通课'  when 2 then '试听课' when 3 then '活动课' when 4 then '测网课' when 5  then '备课' when 6  then '补课' when 7  then '测评课'end) 课节类型
, case l.live_status when 1 then '上课中' when 2 then '已下课' when 0 then '待上课' when 3 then '已取消' end 课节状态
, l.max_class_num 班型
,case ls.check_status when 0 then '未签到' when  1 then '签到' when 2 then '请假' when  3 then '旷课' when  4 then '取消' end 考勤状态

from ol_live_student ls 
LEFT JOIN ol_live l on l.id=ls.live_id
LEFT JOIN ol_user u on u.id=ls.student_id
LEFT JOIN ol_admin_user au on au.id=l.teacher_id
LEFT JOIN ol_chapter c on c.id=l.cn_id

WHERE l.start_time BETWEEN UNIX_TIMESTAMP('2019-04-01') and UNIX_TIMESTAMP('2019-05-01')
